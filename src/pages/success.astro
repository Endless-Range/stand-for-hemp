---
/**
 * Success Page - Thank you for taking action
 * Includes social sharing tools to amplify the message
 */

import LandingLayout from '../layouts/LandingLayout.astro';
---

<LandingLayout
  title="Thank You for Taking Action | Stand for Hemp"
  description="Your voice matters. Share this campaign to amplify the message and save the hemp industry."
  ogImage="/og-image.jpg"
>
  <!-- Success Hero -->
  <section class="py-16 md:py-24 bg-gradient-to-br from-[var(--color-hemp-green)] to-[var(--color-soil-dark)]">
    <div class="container mx-auto px-6 max-w-4xl text-center">
      <!-- Success Icon -->
      <div class="mb-8">
        <div class="w-24 h-24 mx-auto bg-white rounded-full flex items-center justify-center">
          <svg class="w-16 h-16 text-[var(--color-hemp-green)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      </div>

      <!-- Thank You Message -->
      <h1 class="text-4xl md:text-6xl font-bold text-white mb-6">
        Thank You!
      </h1>
      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-content mx-auto">
        Your voice has been heard. Every action counts in the fight to save the American hemp industry.
      </p>
    </div>
  </section>

  <!-- Impact Counter -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-6 text-center">
      <p class="text-2xl md:text-3xl font-bold mb-2" style="color: var(--color-soil-dark);">
        You've joined <span id="action-counter" class="text-[var(--color-hemp-green)]">2,847</span> Americans taking action
      </p>
      <p class="text-lg text-neutral-600">
        Together, we can make a difference
      </p>
    </div>
  </section>

  <!-- Amplify the Message -->
  <section class="py-16 md:py-24" style="background-color: var(--color-soft-cream);">
    <div class="container mx-auto px-6 max-w-4xl">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-5xl font-bold mb-4" style="color: var(--color-soil-dark);">
          Amplify Your Impact
        </h2>
        <p class="text-xl text-neutral-600 max-w-content mx-auto">
          Share this campaign on social media to multiply your voice. Every share brings more people into the fight.
        </p>
      </div>

      <!-- Social Share Buttons -->
      <div class="space-y-6 max-w-2xl mx-auto">
        <!-- Twitter/X -->
        <div class="card">
          <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-2" style="color: var(--color-soil-dark);">
                Share on X (Twitter)
              </h3>
              <p class="text-neutral-600 text-sm mb-3" id="twitter-preview">
                "I just contacted my representatives to save the hemp industry. 300,000 jobs and $28B at risk. Join me at StandforHemp.com #SaveHemp"
              </p>
            </div>
            <button
              onclick="shareOnTwitter()"
              class="btn-primary whitespace-nowrap min-w-[150px]"
            >
              Share on X â†’
            </button>
          </div>
        </div>

        <!-- Facebook -->
        <div class="card">
          <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-2" style="color: var(--color-soil-dark);">
                Share on Facebook
              </h3>
              <p class="text-neutral-600 text-sm">
                Share with your friends and family on Facebook
              </p>
            </div>
            <button
              onclick="shareOnFacebook()"
              class="btn-primary whitespace-nowrap min-w-[150px]"
            >
              Share on FB â†’
            </button>
          </div>
        </div>

        <!-- LinkedIn -->
        <div class="card">
          <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-2" style="color: var(--color-soil-dark);">
                Share on LinkedIn
              </h3>
              <p class="text-neutral-600 text-sm">
                Reach professionals and business leaders
              </p>
            </div>
            <button
              onclick="shareOnLinkedIn()"
              class="btn-primary whitespace-nowrap min-w-[150px]"
            >
              Share on LI â†’
            </button>
          </div>
        </div>

        <!-- Copy Link -->
        <div class="card">
          <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
            <div class="flex-1">
              <h3 class="text-xl font-bold mb-2" style="color: var(--color-soil-dark);">
                Copy Link
              </h3>
              <p class="text-neutral-600 text-sm">
                Share the link directly via text, email, or messaging apps
              </p>
            </div>
            <button
              onclick="copyLink()"
              id="copy-btn"
              class="btn-primary whitespace-nowrap min-w-[150px]"
            >
              Copy Link
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- What's Next -->
  <section class="py-16 md:py-24 bg-white">
    <div class="container mx-auto px-6 max-w-4xl">
      <h2 class="text-3xl md:text-5xl font-bold text-center mb-12" style="color: var(--color-soil-dark);">
        What Happens Next?
      </h2>

      <div class="grid md:grid-cols-3 gap-8">
        <!-- Step 1 -->
        <div class="text-center">
          <div class="text-4xl mb-4">ðŸ“§</div>
          <h3 class="text-xl font-bold mb-3" style="color: var(--color-hemp-green);">
            Your Voice is Heard
          </h3>
          <p class="text-neutral-600">
            Your representatives will receive your message and see constituent concern growing
          </p>
        </div>

        <!-- Step 2 -->
        <div class="text-center">
          <div class="text-4xl mb-4">ðŸ“Š</div>
          <h3 class="text-xl font-bold mb-3" style="color: var(--color-hemp-green);">
            Numbers Matter
          </h3>
          <p class="text-neutral-600">
            As more people take action, the pressure on Congress increases
          </p>
        </div>

        <!-- Step 3 -->
        <div class="text-center">
          <div class="text-4xl mb-4">ðŸŽ¯</div>
          <h3 class="text-xl font-bold mb-3" style="color: var(--color-hemp-green);">
            Policy Changes
          </h3>
          <p class="text-neutral-600">
            With enough voices, we can stop the ban and protect the industry
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- National Petition CTA -->
  <section class="py-20 md:py-32 text-center bg-gradient-to-br from-[var(--color-sky-blue)] to-[var(--color-hemp-green)]">
    <div class="container mx-auto px-6 max-w-4xl">
      <h2 class="text-4xl md:text-6xl font-bold text-white mb-6 leading-tight">
        Haven't Signed the Petition Yet?
      </h2>
      <p class="text-xl md:text-2xl text-white/90 mb-10 max-w-content mx-auto">
        Add your name to the national petition to save American hemp
      </p>

      <a
        href="https://c.org/Wn5jc42hcj"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-block px-10 py-4 text-xl font-bold rounded-lg transition-all hover:transform hover:-translate-y-0.5 hover:shadow-lg bg-white text-[var(--color-hemp-green)] hover:bg-[var(--color-wheat-gold)]"
      >
        Sign the Petition â†’
      </a>
    </div>
  </section>

  <!-- Final CTA - Take More Action -->
  <section class="py-16 md:py-24" style="background-color: var(--color-soft-cream);">
    <div class="container mx-auto px-6 max-w-3xl text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-6" style="color: var(--color-soil-dark);">
        Want to Do More?
      </h2>
      <p class="text-lg text-neutral-600 mb-8">
        Contact additional representatives or help someone else take action
      </p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/take-action" class="btn-primary">
          Contact More Reps
        </a>
        <a href="/" class="px-8 py-3 rounded-lg font-semibold transition-all hover:transform hover:-translate-y-0.5 hover:shadow-lg border-2" style="border-color: var(--color-hemp-green); color: var(--color-hemp-green); background-color: transparent;">
          Back to Home
        </a>
      </div>
    </div>
  </section>

  <!-- Social Sharing Scripts -->
  <script is:inline>
    // Social sharing functions
    const siteUrl = 'https://standforhemp.com';
    const shareText = 'I just contacted my representatives to save the hemp industry. 300,000 jobs and $28B at risk. Join me at StandforHemp.com #SaveHemp';

    function shareOnTwitter() {
      const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(siteUrl)}`;
      window.open(twitterUrl, '_blank', 'width=550,height=420');
    }

    function shareOnFacebook() {
      const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(siteUrl)}`;
      window.open(facebookUrl, '_blank', 'width=550,height=420');
    }

    function shareOnLinkedIn() {
      const linkedInUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(siteUrl)}`;
      window.open(linkedInUrl, '_blank', 'width=550,height=420');
    }

    function copyLink() {
      const copyBtn = document.getElementById('copy-btn');
      navigator.clipboard.writeText(siteUrl).then(() => {
        // Change button text temporarily
        const originalText = copyBtn.textContent;
        copyBtn.textContent = 'âœ“ Copied!';
        copyBtn.style.backgroundColor = 'var(--color-hemp-green)';

        setTimeout(() => {
          copyBtn.textContent = originalText;
          copyBtn.style.backgroundColor = '';
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy:', err);
        alert('Failed to copy link. Please copy manually: ' + siteUrl);
      });
    }

    // Counter animation
    const counter = document.getElementById('action-counter');
    if (counter) {
      const targetNumber = 2847;
      const duration = 2000;
      const increment = targetNumber / (duration / 16);
      let currentNumber = 0;

      const updateCounter = () => {
        currentNumber += increment;
        if (currentNumber >= targetNumber) {
          counter.textContent = targetNumber.toLocaleString();
        } else {
          counter.textContent = Math.floor(currentNumber).toLocaleString();
          requestAnimationFrame(updateCounter);
        }
      };

      const observer = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
          updateCounter();
          observer.disconnect();
        }
      });

      observer.observe(counter);
    }
  </script>
</LandingLayout>
